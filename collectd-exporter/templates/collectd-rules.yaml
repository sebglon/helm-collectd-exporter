{{ define "collectd.rules.yaml.tpl" }}
groups:
- name: ./collectd.rules
  rules:
  - alert: collectd-exporter Down
    expr: collectd_last_push_timestamp_seconds == 0 or absent(collectd_exporter_build_info == 1)
    for: 10m
    labels:
      severity: warning
    annotations:
      description: Prometheus could not scrape a colectd-exporter for more than 10m,
        or collectd-exporter have disappeared from discovery.
      summary: collectd-exporter cannot be scraped
{{ end }}      